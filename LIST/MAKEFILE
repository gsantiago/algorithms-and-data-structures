OBJECTS = list.obj base.obj
CC = tcc
FLAGS = -c -I../

default: clean all

list.obj: list.c list.h
	$(CC) $(FLAGS) list.c

tests.obj: tests.c
	$(CC) $(FLAGS) tests.c

contacts.obj: contacts.c
	$(CC) $(FLAGS) -c contacts.c

base.obj: ..\base\base.c
	$(CC) -c -I..\base ..\base\base.c

tests.exe: tests.obj $(OBJECTS)
	$(CC) tests.obj $(OBJECTS)

contacts.exe: contacts.obj $(OBJECTS)
	$(CC) contacts.obj $(OBJECTS)

all: tests.exe contacts.exe

run-contacts: CONTACTS.EXE
	CONTACTS.EXE

clean:
	rescan
	del *.obj
	del *.exe
	del *.log
	del *.dat
